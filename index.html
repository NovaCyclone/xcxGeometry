<!DOCTYPE html>
<html>
<head>
  <title>精确数学计算器</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.7.0/math.js"></script>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; }
    #input { width: 100%; padding: 10px; font-size: 16px; }
    #result { margin-top: 20px; padding: 15px; background: #f5f5f5; }
  </style>
</head>
<body>
  <h1>精确数学计算器</h1>
  <input type="text" id="input" placeholder="输入数学表达式，如 (1/3 + sqrt(8))/2">
  <button onclick="calculate()">计算</button>
  <div id="result"></div>
  
  <script>
    math.config({
      number: 'Fraction',
      precision: 64
    });
    
    function calculate() {
      try {
        const input = document.getElementById('input').value;
        const expr = math.parse(input);
        const simplified = math.simplify(expr);
        const result = simplified.toString();
        
        document.getElementById('result').innerHTML = `
          <p><strong>输入:</strong> ${input}</p>
          <p><strong>结果:</strong> ${result}</p>
          <p><strong>数值近似:</strong> ${math.evaluate(input)}</p>
        `;
      } catch (e) {
        document.getElementById('result').innerHTML = `
          <p style="color: red;">错误: ${e.message}</p>
        `;
      }
    }
  </script>
</body>
</html>
